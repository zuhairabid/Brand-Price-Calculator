<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <link rel="stylesheet" href="style.css" />
      <!-- <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /> -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <script src="https://cdn.tailwindcss.com"></script>
      <style>
         @import url("https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&display=swap");
      </style>

      <script>
         tailwind.config = {
            theme: {
               extend: {
                  colors: {
                     purple: "#A96DA1",
                     black_light: "rgba(0, 0, 0, 0.6)",
                     black_light2: "rgba(0, 0, 0, 0.5)",
                     gray1: "#F8F7F8",
                  },
                  fontFamily: {
                     comforta: ["Comfortaa", "sans-serif"],
                  },
               },
            },
         }
      </script>
      <title>Document</title>
   </head>
   <body>
      <div></div>
      <div class=" ">
         <div
            class="shadow-cs p-5 xl:w-2/3 xl:m-auto xl:my-10 lg:m-10 font-comforta border-3 border-black-200 flex flex-col items-center space-y-5"
         >
            <h1 class="text-purple text-2xl font-bold lg:text-xl">
               Brand Price Calculator
            </h1>
            <p class="text-black_light text-center w-3/5">
               Select a platform, media type and enter your following size to
               calculate a range of rates to charge brands.
            </p>
            <div
               id="visualizer"
               class="hidden flex flex-col text-center space-y-6 items-center mb-5"
            >
               <p class="text-3xl font-[700]">$<span id="demo"></span></p>
               <div
                  id="msg_1"
                  class="hidden bg-yellow-200 px-3 py-2 text-sm rounded-md"
               >
                  <p>üí∞</p>
                  <p class="font-bold text-yellow-600">
                     Great Chance Aim higher!
                  </p>
                  <p class="text-yellow-600">
                     Most Creators Similar to you price within this range
                  </p>
               </div>
               <div
                  id="msg_2"
                  class="bg-green-200 px-3 py-2 text-sm rounded-md"
               >
                  <p>üí∏</p>
                  <p class="font-bold text-green-600">Great Chance</p>
                  <p class="text-green-600">
                     Creators like you have negotiated this price on past deals
                  </p>
               </div>
               <div
                  id="msg_3"
                  class="hidden bg-orange-200 px-3 py-2 text-sm rounded-md"
               >
                  <p>üèÄ</p>
                  <p class="font-bold text-orange-600">Shoot you shot</p>
                  <p class="text-orange-600">
                     You'll be one of the first to price a brand within this
                     range
                  </p>
               </div>
               <input
                  id="rangeSLider"
                  class="w-60"
                  type="range"
                  oninput="myFunction(this.value)"
               />
               <div class="flex w-full">
                  <div class="minVal text-left font-bold">
                     <p id="min_value_show" class="text-lg">$30</p>
                     <p>Minimum</p>
                  </div>
                  <div class="grow"></div>
                  <div class="maxVal text-right font-bold">
                     <p id="max_value_show" class="text-lg">$50</p>
                     <p>Maximum</p>
                  </div>
               </div>
               <div
                  class="py-4 flex items-center flex-col lg:w-1/2 text-sm lg:m-auto"
               >
                  <p>‚ö°</p>
                  <p class="font-bold">HOW IS PRICING CALCULATED?</p>
                  <p class="text-center mt-2 text-gray-600">
                     Pricing is calculated based on industry data compared
                     against the filter you select.
                  </p>
               </div>
            </div>
            <!-- ----------------------------------------------------------------------- -->
            <div
               class="flex flex-col space-y-5 lg:space-y-0 lg:flex-row lg:space-x-3 lg:border border-purple rounded-sm px-1 py-1 w-full justify-center lg:items-center text-left lg:pr-3"
            >
               <div class="grow lg:border-r border-black p-3">
                  <p class="text-purple lg:text-black font-[700]">
                     Select platform
                  </p>
                  <select
                     id="platform"
                     class="text-black_light2 text-xs lg:text-sm w-full bg-gray1 p-3"
                     oninput="handleType(this)"
                  >
                     <option value="0">Tiktok</option>
                     <option value="1">Youtube</option>
                     <option value="2">Instagram</option>
                  </select>
               </div>
               <div class="grow lg:border-r border-black p-3">
                  <p class="text-purple lg:text-black font-[700]">Type</p>
                  <select
                     id="ig_type"
                     class="hidden text-black_light2 text-xs lg:text-sm w-full bg-gray1 p-3"
                  >
                     <option value="volvo">Story</option>
                     <option value="saab">Reels</option>
                     <option value="mercedes">Post</option>
                  </select>
                  <select
                     id="onlyVideoType"
                     class="text-black_light2 text-xs lg:text-sm w-full bg-gray1 p-3"
                  >
                     <option value="volvo">Video</option>
                  </select>
               </div>
               <div class="grow p-3">
                  <p class="text-purple lg:text-black font-[700]">
                     Following size
                  </p>
                  <input
                     id="followerNum"
                     type="number"
                     placeholder="Enter  number of followers"
                     class="text-xs lg:text-sm text-black_light2 w-full bg-gray1 p-3"
                     oninput="followerInput(this)"
                  />
               </div>
            </div>
            <button
               id="active"
               class="hidden text-white grow bg-purple rounded-lg w-full lg:w-2/5 p-3 mx-auto lg:h-min"
               onclick="handleInput(this)"
            >
               Calculate
            </button>
            <button
               id="unactive"
               class="text-gray-500 grow bg-gray-200 rounded-lg w-full lg:w-2/5 p-3 mx-auto lg:h-min"
            >
               Calculate
            </button>
         </div>
      </div>
   </body>
   <script>
      let minValue
      let maxValue
      msg_1 = document.getElementById("msg_1")
      msg_2 = document.getElementById("msg_2")
      msg_3 = document.getElementById("msg_3")
      function myFunction(val) {
         document.getElementById("demo").innerHTML = val
         val = parseInt(val)
         minValue = parseInt(minValue)
         maxValue = parseInt(maxValue)
         if (val >= maxValue - 4) {
            msg_1.style.display = msg_2.style.display = "none"
            msg_3.style.display = "block"
            // console.log(val)
         } else if (val <= minValue + 4) {
            msg_2.style.display = msg_3.style.display = "none"
            msg_1.style.display = "block"
         } else {
            msg_1.style.display = msg_3.style.display = "none"
            msg_2.style.display = "block"
            console.log(val)
         }
      }

      function handleInput(e) {
         console.log("clicked")
         document.querySelector("button#active").innerText = "Calculate Again"
         e.addEventListener("click", () => {
            document.location.reload()
         })
         var follower = document.getElementById("followerNum").value
         document.getElementById("visualizer").style.display = "block"
         console.log(follower)
         // console.log(tiktok)
         var followerPrice = followerToPrice(
            parseInt(follower),
            parseInt(document.getElementById("platform").value)
         )
         console.log(followerPrice)
         followerPrice = followerPrice.split("/")
         minValue = followerPrice[0]
         maxValue = followerPrice[followerPrice.length - 1]
         document.getElementById("rangeSLider").min = minValue
         document.getElementById("rangeSLider").max = maxValue
         document.getElementById("rangeSLider").value = document.getElementById(
            "demo"
         ).innerHTML = Math.round((parseInt(minValue) + parseInt(maxValue)) / 2)

         document.getElementById("min_value_show").innerHTML = "$" + minValue
         document.getElementById("max_value_show").innerHTML = "$" + maxValue
      }

      function handleType(e) {
         if (e.value == "0" || e.value == "1") {
            document.getElementById("onlyVideoType").style.display = "block"
            document.getElementById("ig_type").style.display = "none"
         } else {
            document.getElementById("onlyVideoType").style.display = "none"
            document.getElementById("ig_type").style.display = "block"
         }
      }
      function followerInput(e) {
         let follower = parseInt(e.value)

         if (follower >= 1000) {
            document.getElementById("active").style.display = "block"
            document.getElementById("unactive").style.display = "none"
            // console.log("active")
         } else if (follower < 1000) {
            document.getElementById("active").style.display = "none"
            document.getElementById("unactive").style.display = "block"
            // console.log("unactive")
         }
      }
   </script>
   <script src="index.js"></script>
</html>
